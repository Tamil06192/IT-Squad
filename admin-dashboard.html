<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - IT SQUAD</title>
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <style>
        body {
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            background-color: var(--bg-body);
        }

        .dashboard-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            flex: 1;
            min-height: 0;
            width: 100%;
            overflow: hidden;
        }

        .sidebar {
            background-color: var(--bg-card);
            border-right: 1px solid var(--border);
            padding: 2rem 1rem;
            overflow-y: auto;
            height: 100%;
            /* Explicitly enforce desktop state */
            position: static;
            transform: none;
            display: block;
            width: auto;
            z-index: auto;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            border-radius: 8px;
            color: var(--text-muted);
            font-weight: 500;
            transition: background-color 0.3s, color 0.3s;
        }

        .sidebar-menu a:hover,
        .sidebar-menu a.active {
            background-color: var(--bg-body);
            color: var(--primary);
        }

        .main-content {
            padding: 2rem;
            background-color: var(--bg-body);
            overflow-y: auto;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .table-responsive {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        th,
        td {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        th {
            background-color: var(--bg-body);
            font-weight: 600;
        }

        @media(max-width: 768px) {
            .dashboard-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: fixed;
                left: 0;
                top: 74px;
                bottom: 0;
                width: 250px;
                z-index: 1000;
                background-color: var(--bg-card);
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                display: block;
                box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
                will-change: transform;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .sidebar-overlay {
                position: fixed;
                top: 74px;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: 999;
                display: none;
                backdrop-filter: blur(2px);
            }

            .sidebar-overlay.active {
                display: block;
            }
        }

        /* HARD SAFEGUARD: Force desktop layout on larger screens */
        @media(min-width: 769px) {
            .dashboard-container {
                grid-template-columns: 250px 1fr !important;
            }

            .sidebar {
                position: static !important;
                transform: none !important;
                display: block !important;
                width: auto !important;
                box-shadow: none !important;
            }

            .sidebar-overlay {
                display: none !important;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container flex justify-between items-center">
            <a href="index.html" class="logo"><i class='bx bx-code-block'></i> IT SQUAD <span
                    style="font-size: 0.7rem; background: var(--accent); color: white; padding: 2px 6px; border-radius: 4px; margin-left: 5px;">ADMIN</span></a>
            <nav>
                <ul class="nav-links">
                    <li class="dropdown">
                        <a href="#">Home <i class='bx bx-chevron-down'></i></a>
                        <div class="dropdown-content">
                            <a href="index.html">Home 1</a>
                            <a href="index2.html">Home 2</a>
                        </div>
                    </li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="services.html">Services</a></li>

                    <li class="dropdown">
                        <a href="admin-dashboard.html" class="active">Dashboard <i class='bx bx-chevron-down'></i></a>
                        <div class="dropdown-content">
                            <a href="user-dashboard.html">User Dashboard</a>
                            <a href="admin-dashboard.html">Admin Dashboard</a>
                        </div>
                    </li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="user-profile flex items-center gap-1">
                <span>Admin User</span>
                <img src="https://ui-avatars.com/api/?name=Admin+User&background=F43F5E&color=fff" alt="User"
                    style="width: 32px; height: 32px; border-radius: 50%;">
                <div class="controls" style="display: flex; gap: 0.5rem; align-items: center; margin-left: 1rem;">
                    <button id="rtl-toggle" class="btn-icon-animate" title="RTL Toggle"><i
                            class='bx bx-globe'></i></button>
                    <button id="theme-toggle" class="icon-btn"><i class='bx bx-moon'></i></button>
                    <button id="sidebar-toggle" class="btn btn-outline" style="padding: 5px 10px;"><i
                            class='bx bx-menu'></i></button>
                </div>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-menu">
                <a href="#" class="active" data-tab="overview-tab"><i class='bx bx-grid-alt'></i> Overview</a>
                <a href="#" data-tab="all-tickets-tab"><i class='bx bx-ticket'></i> All Tickets</a>
                <a href="#" data-tab="users-tab"><i class='bx bx-user-pin'></i> Users</a>
                <a href="#" data-tab="settings-tab"><i class='bx bx-cog'></i> Settings</a>
                <a href="index.html"><i class='bx bx-log-out'></i> Logout</a>
            </div>
        </aside>
        <div class="sidebar-overlay"></div>

        <main class="main-content">
            <!-- Overview Tab -->
            <div id="overview-tab" class="tab-content">
                <div class="flex justify-between items-center" style="margin-bottom: 2rem;">
                    <h2>System Overview</h2>
                    <div class="flex gap-1">
                        <button class="btn btn-outline" style="font-size: 0.9rem;">Download Report</button>
                        <button class="btn btn-primary" style="font-size: 0.9rem;"
                            onclick="document.querySelector('[data-tab=\'settings-tab\']').click()">System
                            Settings</button>
                    </div>
                </div>

                <!-- Stats Grid -->
                <!-- [Existing Stats Grid Content - Keeping mostly same] -->
                <div class="grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                    <!-- Total Tickets -->
                    <div class="card flex items-center gap-1 bg-subtle-info" style="padding: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(14, 165, 233, 0.2); display: flex; align-items: center; justify-content: center; color: #0ea5e9; font-size: 1.5rem;">
                            <i class='bx bx-layer'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.8rem; font-weight: 700; line-height: 1.2;">1,248</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Total Tickets</div>
                            <div style="color: #22c55e; font-size: 0.8rem;"><i class='bx bx-up-arrow-alt'></i> 12% vs
                                last month</div>
                        </div>
                    </div>
                    <!-- Avg Response -->
                    <div class="card flex items-center gap-1 bg-subtle-danger" style="padding: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(236, 72, 153, 0.2); display: flex; align-items: center; justify-content: center; color: #ec4899; font-size: 1.5rem;">
                            <i class='bx bx-time'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.8rem; font-weight: 700; line-height: 1.2;">15m</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Avg. Response</div>
                            <div style="color: #22c55e; font-size: 0.8rem;">-2m from avg</div>
                        </div>
                    </div>
                    <!-- Active Agents -->
                    <div class="card flex items-center gap-1 bg-subtle-success" style="padding: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(34, 197, 94, 0.2); display: flex; align-items: center; justify-content: center; color: #22c55e; font-size: 1.5rem;">
                            <i class='bx bx-user-voice'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.8rem; font-weight: 700; line-height: 1.2;">24</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Active Agents</div>
                            <div style="color: var(--text-muted); font-size: 0.8rem;">Online now</div>
                        </div>
                    </div>
                    <!-- Client Satisfaction -->
                    <div class="card flex items-center gap-1 bg-subtle-warning" style="padding: 1.5rem;">
                        <div
                            style="width: 48px; height: 48px; border-radius: 50%; background: rgba(249, 115, 22, 0.2); display: flex; align-items: center; justify-content: center; color: #f97316; font-size: 1.5rem;">
                            <i class='bx bx-smile'></i>
                        </div>
                        <div>
                            <div style="font-size: 1.8rem; font-weight: 700; line-height: 1.2;">4.8/5</div>
                            <div style="color: var(--text-muted); font-size: 0.9rem;">Satisfaction</div>
                            <div style="color: #f59e0b; font-size: 0.8rem;">500+ reviews</div>
                        </div>
                    </div>
                </div>

                <!-- System Health & Ticket Volume -->
                <div class="grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                    <div class="card">
                        <h3>Server Load & Health</h3>
                        <div style="margin-top: 1.5rem;">
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>CPU Usage</span>
                                    <span>45%</span>
                                </div>
                                <div style="width: 100%; height: 8px; background: var(--border); border-radius: 4px;">
                                    <div
                                        style="width: 45%; height: 100%; background: var(--secondary); border-radius: 4px;">
                                    </div>
                                </div>
                            </div>
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Memory Usage</span>
                                    <span>62%</span>
                                </div>
                                <div style="width: 100%; height: 8px; background: var(--border); border-radius: 4px;">
                                    <div
                                        style="width: 62%; height: 100%; background: var(--primary); border-radius: 4px;">
                                    </div>
                                </div>
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Disk Space (SSD)</span>
                                    <span>78%</span>
                                </div>
                                <div style="width: 100%; height: 8px; background: var(--border); border-radius: 4px;">
                                    <div
                                        style="width: 78%; height: 100%; background: var(--accent); border-radius: 4px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Reuse Incoming Ticket Volume Chart -->
                    <div class="card">
                        <h3>Incoming Ticket Volume</h3>
                        <div style="display: grid; grid-template-columns: 40px 1fr; gap: 1rem; height: 220px;">
                            <!-- Y Axis -->
                            <div
                                style="display: flex; flex-direction: column; justify-content: space-between; text-align: right; color: var(--text-muted); font-size: 0.8rem; height: 180px; padding-top: 1rem;">
                                <span>100</span>
                                <span>75</span>
                                <span>50</span>
                                <span>25</span>
                                <span>0</span>
                            </div>

                            <!-- Chart Area -->
                            <div
                                style="position: relative; height: 180px; border-left: 1px solid var(--border); border-bottom: 1px solid var(--border); margin-top: 1rem;">
                                <!-- Grid Lines -->
                                <div
                                    style="position: absolute; width: 100%; top: 0; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 25%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 50%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 75%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>

                                <div
                                    style="display: flex; align-items: flex-end; justify-content: space-between; height: 100%;">
                                    <div
                                        style="width: 10%; background: var(--primary); height: 40%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 60%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 80%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 50%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 90%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 75%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 45%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 10%; background: var(--primary); height: 65%; border-radius: 4px;">
                                    </div>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; margin-top: 0.5rem; color: var(--text-muted); font-size: 0.8rem;">
                                    <span>8am</span><span>10am</span><span>12pm</span><span>2pm</span><span>4pm</span><span>6pm</span><span>8pm</span><span>10pm</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Extra Charts Row (User Growth + SLA) -->
                <!-- Reuse existing charts logic ... -->
                <div class="grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                    <div class="card">
                        <h3>User Growth</h3>
                        <!-- ... [Same Chart Code] ... -->
                        <div style="display: grid; grid-template-columns: 40px 1fr; gap: 1rem; height: 220px;">
                            <div
                                style="display: flex; flex-direction: column; justify-content: space-between; text-align: right; color: var(--text-muted); font-size: 0.8rem; height: 180px; padding-top: 1rem;">
                                <span>150</span><span>120</span><span>90</span><span>60</span><span>30</span><span>0</span>
                            </div>
                            <div
                                style="position: relative; height: 180px; border-left: 1px solid var(--border); border-bottom: 1px solid var(--border); margin-top: 1rem;">
                                <!-- Grid Lines -->
                                <div
                                    style="position: absolute; width: 100%; top: 0; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 20%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 40%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 60%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>
                                <div
                                    style="position: absolute; width: 100%; top: 80%; border-top: 1px dashed var(--border); opacity: 0.5;">
                                </div>

                                <div
                                    style="display: flex; align-items: flex-end; justify-content: space-between; height: 100%;">
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 20%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 25%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 35%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 40%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 50%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 65%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 70%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 60%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 80%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 85%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 90%; border-radius: 4px;">
                                    </div>
                                    <div
                                        style="width: 5%; background: var(--secondary); height: 100%; border-radius: 4px;">
                                    </div>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; margin-top: 0.5rem; color: var(--text-muted); font-size: 0.8rem;">
                                    <span>Jan</span><span>Dec</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3>SLA Compliance</h3>
                        <!-- ... [Same SLA Code] ... -->
                        <div
                            style="display: flex; justify-content: center; align-items: center; height: 100%; min-height: 200px;">
                            <div style="width: 100%; max-width: 300px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Gold SLA (99.9%)</span><span
                                        style="color: var(--success); font-weight: 700;">100%</span>
                                </div>
                                <div
                                    style="width: 100%; height: 10px; background: var(--border); border-radius: 5px; margin-bottom: 1.5rem;">
                                    <div
                                        style="width: 100%; height: 100%; background: var(--success); border-radius: 5px;">
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Silver SLA (99.0%)</span><span
                                        style="color: var(--warning); font-weight: 700;">98.5%</span>
                                </div>
                                <div
                                    style="width: 100%; height: 10px; background: var(--border); border-radius: 5px; margin-bottom: 1.5rem;">
                                    <div
                                        style="width: 98.5%; height: 100%; background: var(--warning); border-radius: 5px;">
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                                    <span>Bronze SLA (98.0%)</span><span
                                        style="color: var(--accent); font-weight: 700;">97.2%</span>
                                </div>
                                <div
                                    style="width: 100%; height: 10px; background: var(--border); border-radius: 5px; margin-bottom: 1rem;">
                                    <div
                                        style="width: 97.2%; height: 100%; background: var(--accent); border-radius: 5px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Charts Row (Dept + Agent Status) - Reusing Logic -->
                <div class="grid"
                    style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                    <div class="card">
                        <h3>Tickets by Department</h3>
                        <div id="dept-chart"
                            style="display: flex; justify-content: center; margin-top: 1rem; position: relative;">
                            <svg viewBox="0 0 36 36" style="width: 200px; height: 200px; transform: rotate(-90deg);">
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--primary)" stroke-width="3"
                                    stroke-dasharray="35 100" stroke-dashoffset="0"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('dept-chart', 'IT Support', '35%')" />
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--purple)" stroke-width="3"
                                    stroke-dasharray="25 100" stroke-dashoffset="-35"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('dept-chart', 'HR', '25%')" />
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--teal)" stroke-width="3"
                                    stroke-dasharray="20 100" stroke-dashoffset="-60"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('dept-chart', 'Finance', '20%')" />
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--warning)" stroke-width="3"
                                    stroke-dasharray="20 100" stroke-dashoffset="-80"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('dept-chart', 'Sales', '20%')" />
                            </svg>
                            <div
                                style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; pointer-events: none;">
                                <span class="chart-value"
                                    style="font-size: 1.5rem; font-weight: 700; display: block; line-height: 1;">Total</span>
                                <span class="chart-label"
                                    style="color: var(--text-muted); font-size: 0.9rem;">Distribution</span>
                            </div>
                        </div>
                        <div
                            style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; font-size: 0.85rem;">
                            <!-- Legend Items -->
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--primary); border-radius: 50%;">
                                </div> IT Support
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--purple); border-radius: 50%;">
                                </div> HR
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--teal); border-radius: 50%;">
                                </div> Finance
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--warning); border-radius: 50%;">
                                </div> Sales
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3>Agent Status Overview</h3>
                        <div id="agent-status-chart"
                            style="display: flex; justify-content: center; margin-top: 1rem; position: relative;">
                            <svg viewBox="0 0 36 36" style="width: 200px; height: 200px; transform: rotate(-90deg);">
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--success)" stroke-width="3"
                                    stroke-dasharray="45 100" stroke-dashoffset="0"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('agent-status-chart', 'Online', '45%')" />
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--warning)" stroke-width="3"
                                    stroke-dasharray="25 100" stroke-dashoffset="-45"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('agent-status-chart', 'Away', '25%')" />
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--accent)" stroke-width="3"
                                    stroke-dasharray="15 100" stroke-dashoffset="-70"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('agent-status-chart', 'Busy', '15%')" />
                                <circle cx="18" cy="18" r="15.9155" fill="none" stroke="var(--text-muted)"
                                    stroke-width="3" stroke-dasharray="15 100" stroke-dashoffset="-85"
                                    style="cursor: pointer; transition: stroke-width 0.2s;"
                                    onmouseover="this.style.strokeWidth='4'" onmouseout="this.style.strokeWidth='3'"
                                    onclick="updateChartCenter('agent-status-chart', 'Offline', '15%')" />
                            </svg>
                            <div
                                style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; pointer-events: none;">
                                <span class="chart-value"
                                    style="font-size: 2rem; font-weight: 700; display: block; line-height: 1;">24</span>
                                <span class="chart-label"
                                    style="color: var(--text-muted); font-size: 0.8rem;">Agents</span>
                            </div>
                        </div>
                        <div
                            style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; font-size: 0.85rem;">
                            <!-- Legend Items -->
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--success); border-radius: 50%;">
                                </div> Online
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--warning); border-radius: 50%;">
                                </div> Away
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div style="width: 10px; height: 10px; background: var(--accent); border-radius: 50%;">
                                </div> Busy
                            </div>
                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                <div
                                    style="width: 10px; height: 10px; background: var(--text-muted); border-radius: 50%;">
                                </div> Offline
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agent Performance Table -->
                <div style="margin-bottom: 2rem;">
                    <h3 style="margin-bottom: 1rem;">Top Performing Agents</h3>
                    <div class="card bg-subtle-info" style="padding: 0; overflow: hidden;">
                        <!-- Subtle blue background for card wrapper -->
                        <div class="table-responsive">
                            <table> <!-- Inner table white for contrast -->
                                <thead>
                                    <tr>
                                        <th>Agent Name</th>
                                        <th>Tickets Resolved</th>
                                        <th>Avg Rating</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="display: flex; align-items: center; gap: 0.5rem;">
                                            <img src="https://ui-avatars.com/api/?name=John+Doe&background=random"
                                                alt="JD" style="width: 30px; height: 30px; border-radius: 50%;">
                                            John Doe
                                        </td>
                                        <td>142</td>
                                        <td>4.9</td>
                                        <td><span class="badge badge-primary">Online</span></td>
                                    </tr>
                                    <tr>
                                        <td style="display: flex; align-items: center; gap: 0.5rem;">
                                            <img src="https://ui-avatars.com/api/?name=Jane+Smith&background=random"
                                                alt="JS" style="width: 30px; height: 30px; border-radius: 50%;">
                                            Jane Smith
                                        </td>
                                        <td>128</td>
                                        <td>4.8</td>
                                        <td><span class="badge badge-secondary">Away</span></td>
                                    </tr>
                                    <tr>
                                        <td style="display: flex; align-items: center; gap: 0.5rem;">
                                            <img src="https://ui-avatars.com/api/?name=Mike+Johnson&background=random"
                                                alt="MJ" style="width: 30px; height: 30px; border-radius: 50%;">
                                            Mike Johnson
                                        </td>
                                        <td>115</td>
                                        <td>4.7</td>
                                        <td><span class="badge badge-primary">Online</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Recent Tickets -->
                <h3>Recent Activity</h3>
                <div class="table-responsive" style="margin-top: 1rem;">
                    <table>
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Ticket</th>
                                <th>Agent</th>
                                <th>Status</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Michael Scott</td>
                                <td>Printer Malfunction</td>
                                <td>Dwight S.</td>
                                <td><span style="color: #f59e0b;">In Progress</span></td>
                                <td>2 mins ago</td>
                            </tr>
                            <tr>
                                <td>Jim Halpert</td>
                                <td>Network Lag</td>
                                <td>Pam B.</td>
                                <td><span style="color: #0ea5e9;">New</span></td>
                                <td>15 mins ago</td>
                            </tr>
                            <tr>
                                <td>Stanley Hudson</td>
                                <td>Monitor Issue</td>
                                <td>Toby F.</td>
                                <td><span style="color: #22c55e;">Resolved</span></td>
                                <td>1 hr ago</td>
                            </tr>
                            <tr>
                                <td>Andy Bernard</td>
                                <td>Forgot Password</td>
                                <td>Erin H.</td>
                                <td><span style="color: #22c55e;">Resolved</span></td>
                                <td>2 hrs ago</td>
                            </tr>
                            <tr>
                                <td>Angela Martin</td>
                                <td>Cat picture upload failed</td>
                                <td>Dwight S.</td>
                                <td><span style="color: #f43f5e;">Rejected</span></td>
                                <td>3 hrs ago</td>
                            </tr>
                            <tr>
                                <td>Kevin Malone</td>
                                <td>Cookies not working</td>
                                <td>Oscar M.</td>
                                <td><span style="color: #0ea5e9;">New</span></td>
                                <td>4 hrs ago</td>
                            </tr>
                            <tr>
                                <td>Creed Bratton</td>
                                <td>Confidential data request</td>
                                <td>Toby F.</td>
                                <td><span style="color: #f43f5e;">Flagged</span></td>
                                <td>5 hrs ago</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- All Tickets Tab -->
            <div id="all-tickets-tab" class="tab-content" style="display: none;">
                <h2 style="margin-bottom: 2rem;">Manage All Tickets</h2>
                <div class="card bg-subtle-info">
                    <div class="flex justify-between items-center"
                        style="margin-bottom: 1rem; flex-wrap: wrap; gap: 1rem;">
                        <input type="text" placeholder="Search tickets..." class="form-control"
                            style="max-width: 300px;">
                        <div class="flex gap-1">
                            <select class="form-control" style="width: auto;">
                                <option>All Departments</option>
                                <option>IT Support</option>
                                <option>HR</option>
                                <option>Sales</option>
                            </select>
                            <select class="form-control" style="width: auto;">
                                <option>All Statuses</option>
                                <option>Open</option>
                                <option>Pending</option>
                                <option>Closed</option>
                            </select>
                            <button class="btn btn-primary"><i class='bx bx-search'></i></button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>User</th>
                                    <th>Subject</th>
                                    <th>Department</th>
                                    <th>Priority</th>
                                    <th>Status</th>
                                    <th>Assigned To</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#1050</td>
                                    <td>Alice</td>
                                    <td>System Crash</td>
                                    <td>IT Support</td>
                                    <td><span style="color:red;">High</span></td>
                                    <td><span class="status-badge status-open">Open</span></td>
                                    <td>-</td>
                                    <td><button class="btn btn-outline" style="padding:2px 8px;">Assign</button></td>
                                </tr>
                                <tr>
                                    <td>#1049</td>
                                    <td>Bob</td>
                                    <td>Payroll Issue</td>
                                    <td>HR</td>
                                    <td>Medium</td>
                                    <td><span class="status-badge status-pending">Pending</span></td>
                                    <td>Jane</td>
                                    <td><button class="btn btn-outline" style="padding:2px 8px;">View</button></td>
                                </tr>
                                <tr>
                                    <td>#1048</td>
                                    <td>Charlie</td>
                                    <td>Network Slow</td>
                                    <td>IT Support</td>
                                    <td>Low</td>
                                    <td><span class="status-badge status-open">Open</span></td>
                                    <td>-</td>
                                    <td><button class="btn btn-outline" style="padding:2px 8px;">Assign</button></td>
                                </tr>
                                <tr>
                                    <td>#1047</td>
                                    <td>Dave</td>
                                    <td>New Lead</td>
                                    <td>Sales</td>
                                    <td>Medium</td>
                                    <td><span class="status-badge status-closed">Closed</span></td>
                                    <td>Mike</td>
                                    <td><button class="btn btn-outline" style="padding:2px 8px;">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <th>Ticket</th>
                    <th>Agent</th>
                    <th>Status</th>
                    <th>Time</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Michael Scott</td>
                            <td>Printer Malfunction</td>
                            <td>Dwight S.</td>
                            <td><span style="color: #f59e0b;">In Progress</span></td>
                            <td>2 mins ago</td>
                        </tr>
                        <tr>
                            <td>Jim Halpert</td>
                            <td>Network Lag</td>
                            <td>Pam B.</td>
                            <td><span style="color: #0ea5e9;">New</span></td>
                            <td>15 mins ago</td>
                        </tr>
                        <tr>
                            <td>Stanley Hudson</td>
                            <td>Monitor Issue</td>
                            <td>Toby F.</td>
                            <td><span style="color: #22c55e;">Resolved</span></td>
                            <td>1 hr ago</td>
                        </tr>
                        <tr>
                            <td>Andy Bernard</td>
                            <td>Forgot Password</td>
                            <td>Erin H.</td>
                            <td><span style="color: #22c55e;">Resolved</span></td>
                            <td>2 hrs ago</td>
                        </tr>
                        <tr>
                            <td>Angela Martin</td>
                            <td>Cat picture upload failed</td>
                            <td>Dwight S.</td>
                            <td><span style="color: #f43f5e;">Rejected</span></td>
                            <td>3 hrs ago</td>
                        </tr>
                        <tr>
                            <td>Kevin Malone</td>
                            <td>Cookies not working</td>
                            <td>Oscar M.</td>
                            <td><span style="color: #0ea5e9;">New</span></td>
                            <td>4 hrs ago</td>
                        </tr>
                        <tr>
                            <td>Creed Bratton</td>
                            <td>Confidential data request</td>
                            <td>Toby F.</td>
                            <td><span style="color: #f43f5e;">Flagged</span></td>
                            <td>5 hrs ago</td>
                        </tr>
                    </tbody>
                    </table>
                </div>

            </div>

            <!-- Users Tab -->
            <div id="users-tab" class="tab-content" style="display: none;">
                <div class="flex justify-between items-center" style="margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                    <h2>User Management</h2>
                    <button class="btn btn-primary"><i class='bx bx-plus'></i> Add New User</button>
                </div>
                <div class="card" style="overflow-x: auto;">
                    <table class="table" style="width: 100%; min-width: 600px;">
                        <thead>
                            <tr>
                                <th style="text-align: left;">Name</th>
                                <th style="text-align: left;">Role</th>
                                <th style="text-align: left;">Email</th>
                                <th style="text-align: left;">Status</th>
                                <th style="text-align: right;">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="display: flex; align-items: center; gap: 0.5rem;">
                                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=random" alt="JD"
                                        style="width: 32px; height: 32px; border-radius: 50%;">
                                    John Doe
                                </td>
                                <td><span class="status-badge bg-subtle-info">Admin</span>
                                </td>
                                <td>john@example.com</td>
                                <td><span style="color: var(--success);"><i class='bx bxs-circle'
                                            style="font-size: 0.6rem;"></i> Active</span></td>
                                <td style="text-align: right;">
                                    <button class="btn btn-outline" style="padding: 2px 8px;"><i
                                            class='bx bx-edit-alt'></i></button>
                                    <button class="btn btn-outline"
                                        style="padding: 2px 8px; color: var(--danger); border-color: var(--danger);"><i
                                            class='bx bx-trash'></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td style="display: flex; align-items: center; gap: 0.5rem;">
                                    <img src="https://ui-avatars.com/api/?name=Jane+Smith&background=random" alt="JS"
                                        style="width: 32px; height: 32px; border-radius: 50%;">
                                    Jane Smith
                                </td>
                                <td><span class="status-badge bg-subtle-success">Agent</span>
                                </td>
                                <td>jane@example.com</td>
                                <td><span style="color: var(--warning);"><i class='bx bxs-circle'
                                            style="font-size: 0.6rem;"></i> Away</span></td>
                                <td style="text-align: right;">
                                    <button class="btn btn-outline" style="padding: 2px 8px;"><i
                                            class='bx bx-edit-alt'></i></button>
                                    <button class="btn btn-outline"
                                        style="padding: 2px 8px; color: var(--danger); border-color: var(--danger);"><i
                                            class='bx bx-trash'></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td style="display: flex; align-items: center; gap: 0.5rem;">
                                    <img src="https://ui-avatars.com/api/?name=Bob+Wilson&background=random" alt="BW"
                                        style="width: 32px; height: 32px; border-radius: 50%;">
                                    Bob Wilson
                                </td>
                                <td><span class="status-badge bg-subtle-warning">User</span></td>
                                <td>bob@example.com</td>
                                <td><span style="color: var(--text-muted);"><i class='bx bxs-circle'
                                            style="font-size: 0.6rem;"></i> Offline</span></td>
                                <td style="text-align: right;">
                                    <button class="btn btn-outline" style="padding: 2px 8px;"><i
                                            class='bx bx-edit-alt'></i></button>
                                    <button class="btn btn-outline"
                                        style="padding: 2px 8px; color: var(--danger); border-color: var(--danger);"><i
                                            class='bx bx-trash'></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card bg-subtle-info" style="margin-top: 2rem;">
                <h3 style="margin-bottom: 1rem;">Pending Access Requests</h3>
                <p style="color: var(--text-muted); margin-bottom: 1rem;">The following users have requested system
                    access.</p>
                <div
                    style="display: flex; gap: 1rem; align-items: center; padding: 1rem; background: var(--bg-body); border-radius: 8px;">
                    <img src="https://ui-avatars.com/api/?name=Guest+User&background=random"
                        style="width: 40px; height: 40px; border-radius: 50%;">
                    <div style="flex: 1;">
                        <strong>Sarah Connor</strong>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">sarah@skynet.com  Requested:
                            Today</div>
                    </div>
                    <div class="flex gap-1">
                        <button class="btn btn-primary" style="padding: 6px 12px; font-size: 0.9rem;">Approve</button>
                        <button class="btn btn-outline"
                            style="padding: 6px 12px; font-size: 0.9rem; color: var(--accent); border-color: var(--accent);">Deny</button>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings-tab" class="tab-content" style="display: none;">
                    <h2 style="margin-bottom: 2rem;">System Settings</h2>
                    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                        <div class="card">
                            <h3>General Settings</h3>
                            <form style="margin-top: 1rem;">
                                <div class="form-group">
                                    <label class="form-label">Site Name</label>
                                    <input type="text" class="form-control" value="IT SQUAD">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Support Email</label>
                                    <input type="email" class="form-control" value="support@itsquad.com">
                                </div>
                                <div class="form-group">
                                    <label class="flex items-center gap-1" style="cursor: pointer;">
                                        <input type="checkbox" style="accent-color: var(--primary);"> Maintenance Mode
                                    </label>
                                </div>
                                <button class="btn btn-primary">Save Changes</button>
                            </form>
                        </div>
                        <div class="card">
                            <h3>Notification Preferences</h3>
                            <form style="margin-top: 1rem;">
                                <div class="form-group">
                                    <label class="flex items-center gap-1" style="margin-bottom: 0.5rem;">
                                        <input type="checkbox" checked style="accent-color: var(--primary);"> Email
                                        Notifications for New Tickets
                                    </label>
                                    <label class="flex items-center gap-1" style="margin-bottom: 0.5rem;">
                                        <input type="checkbox" checked style="accent-color: var(--primary);"> SLA Breach
                                        Alerts
                                    </label>
                                    <label class="flex items-center gap-1">
                                        <input type="checkbox" style="accent-color: var(--primary);"> Weekly Reports
                                    </label>
                                </div>
                                <div class="form-group" style="margin-top: 1.5rem;">
                                    <h3>Security</h3>
                                    <div style="margin-top: 1rem; display: flex; gap: 1rem; flex-wrap: wrap;">
                                        <button class="btn btn-outline">Change Password</button>
                                        <button class="btn btn-outline">Two-Factor Auth</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="card">
                            <h3>API & Integrations</h3>
                            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">Manage external access to your
                                system.</p>

                            <div style="margin-bottom: 1.5rem;">
                                <div class="flex justify-between items-center" style="margin-bottom: 0.5rem;">
                                    <strong>Slack Integration</strong>
                                    <label class="switch">
                                        <input type="checkbox" checked style="accent-color: var(--success);">
                                    </label>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-muted);">Send ticket notifications to
                                    #support channel.</p>
                            </div>

                            <div style="margin-bottom: 1.5rem;">
                                <div class="flex justify-between items-center" style="margin-bottom: 0.5rem;">
                                    <strong>JIRA Sync</strong>
                                    <label class="switch">
                                        <input type="checkbox" style="accent-color: var(--success);">
                                    </label>
                                </div>
                                <p style="font-size: 0.85rem; color: var(--text-muted);">Sync higher level issues to
                                    engineering board.</p>
                            </div>

                            <h4 style="margin-bottom: 0.5rem;">Active API Keys</h4>
                            <div
                                style="background: var(--bg-body); padding: 0.75rem; border-radius: 6px; font-family: monospace; font-size: 0.9rem; display: flex; justify-content: space-between;">
                                <span>sk_live_51Hz...92x</span>
                                <i class='bx bx-copy' style="cursor: pointer; color: var(--primary);"></i>
                            </div>
                            <button class="btn btn-outline" style="width: 100%; margin-top: 1rem;"><i
                                    class='bx bx-plus'></i>
                                Generate New Key</button>
                        </div>
                    </div>
                </div>
        </main>
    </div>

    <script src="main.js"></script>
    <script src="rtltoggle.js"></script>
</body>

</html>